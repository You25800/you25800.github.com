import{_ as s,o as a,c as n,R as e}from"./chunks/framework.333b51ca.js";const A=JSON.parse('{"title":"PostgreSQL psql 常用命令","description":"","frontmatter":{},"headers":[],"relativePath":"database/postgreSQL/databaseAndTable/psql命令.md","filePath":"database/postgreSQL/databaseAndTable/psql命令.md","lastUpdated":1689061386000}'),l={name:"database/postgreSQL/databaseAndTable/psql命令.md"},t=e(`<h1 id="postgresql-psql-常用命令" tabindex="-1">PostgreSQL psql 常用命令 <a class="header-anchor" href="#postgresql-psql-常用命令" aria-label="Permalink to &quot;PostgreSQL psql 常用命令&quot;">​</a></h1><p>本文介绍了在 PostgreSQL 提供的 psql 工具中的常用的命令。</p><p>psql 工具是 PostgreSQL 提供的一个客户端程序。您能使用 psql 工具管理 PostgreSQL 数据库服务器。 本文整理了常用的 psql 命令，以便您能够更加有效的管理 PostgreSQL 数据库服务器。</p><h2 id="连接-postgresql" tabindex="-1">连接 PostgreSQL <a class="header-anchor" href="#连接-postgresql" aria-label="Permalink to &quot;连接 PostgreSQL&quot;">​</a></h2><p>要使用 psql 工具管理 PostgreSQL 服务器，请先连接到 PostgreSQL 服务器。 命令如下：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">psql </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">d dbname </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">U  user </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">W</span></span></code></pre></div><p>如果您需要连接一个远程的 PostgreSQL 服务器，请使用如下命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">psql </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">h host </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">p port </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">d dbname </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">U  user </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">W</span></span></code></pre></div><p>其中：</p><ul><li><code>-h</code> 参数用于指定远程 PostgreSQL 服务器的主机名或者 IP 地址。 默认值为 <code>localhost</code>。</li><li><code>-p</code> 参数用于指定远程 PostgreSQL 服务器的端口号。默认值为 5432。</li></ul><h2 id="psql-常用命令" tabindex="-1">psql 常用命令 <a class="header-anchor" href="#psql-常用命令" aria-label="Permalink to &quot;psql 常用命令&quot;">​</a></h2><p>当您使用 psql 登录进 PostgreSQL 服务器以后，您就可以使用下面的命令管理服务器了。</p><h3 id="列出所有的数据库" tabindex="-1">列出所有的数据库 <a class="header-anchor" href="#列出所有的数据库" aria-label="Permalink to &quot;列出所有的数据库&quot;">​</a></h3><p>要列出当前 PostgreSQL 数据库服务器中的<a href="/database/postgreSQL/databaseAndTable/列出数据库.html">所有数据库</a>，请使用 <code>\\l</code> 或者 <code>\\l+</code> 命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\l</span></span></code></pre></div><p>或者</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\l</span><span style="color:#89DDFF;">+</span></span></code></pre></div><h3 id="连接到数据库" tabindex="-1">连接到数据库 <a class="header-anchor" href="#连接到数据库" aria-label="Permalink to &quot;连接到数据库&quot;">​</a></h3><p>连接数据库请使用 <code>\\c</code> 或者 <code>\\connect</code> 命令。</p><p>要使用当前用户连接到新的数据库，请使用如下命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\c dbname</span></span></code></pre></div><p>要使用新的用户连接到当前数据库，请使用如下命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\c </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> username</span></span></code></pre></div><p>您可以是用 <code>\\connect</code> 替换上面命令中的 <code>\\c</code>，他们是等效的。</p><h3 id="列出数据库中的表" tabindex="-1">列出数据库中的表 <a class="header-anchor" href="#列出数据库中的表" aria-label="Permalink to &quot;列出数据库中的表&quot;">​</a></h3><p>要<a href="/database/postgreSQL/databaseAndTable/列出表.html">列出当前数据库中的表</a>，请使用 <code>\\dt</code> 或者 <code>\\dt+</code> 命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\dt</span></span></code></pre></div><p>或者</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\dt</span><span style="color:#89DDFF;">+</span></span></code></pre></div><h3 id="显示表结构" tabindex="-1">显示表结构 <a class="header-anchor" href="#显示表结构" aria-label="Permalink to &quot;显示表结构&quot;">​</a></h3><p>要显示一个表的结构或定义，比如 列，约束等信息，请使用 <code>\\d</code> 命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\d table_name</span></span></code></pre></div><p>比如，要查看 <code>product</code> 表的结构，请使用如下命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\d product</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">testdb=# \\d product</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 Table &quot;public.product&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    Column    |       Type        | Collation | Nullable |           Default</span></span>
<span class="line"><span style="color:#A6ACCD;">--------------+-------------------+-----------+----------+------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> id           | integer           |           | not null | generated always as identity</span></span>
<span class="line"><span style="color:#A6ACCD;"> product_name | character varying |           | not null |</span></span>
<span class="line"><span style="color:#A6ACCD;"> attributes   | hstore            |           |          |</span></span>
<span class="line"><span style="color:#A6ACCD;">Indexes:</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;product_pkey&quot; PRIMARY KEY, btree (id)</span></span></code></pre></div><h3 id="列出可用模式" tabindex="-1">列出可用模式 <a class="header-anchor" href="#列出可用模式" aria-label="Permalink to &quot;列出可用模式&quot;">​</a></h3><p>要列出当前连接的数据库的所有模式，请使用该 <code>\\dn</code> 命令。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\dn</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">List of schemas</span></span>
<span class="line"><span style="color:#A6ACCD;">  Name  |  Owner</span></span>
<span class="line"><span style="color:#A6ACCD;">--------+----------</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | postgres</span></span></code></pre></div><h3 id="列出可用的函数" tabindex="-1">列出可用的函数 <a class="header-anchor" href="#列出可用的函数" aria-label="Permalink to &quot;列出可用的函数&quot;">​</a></h3><p>要列出当前数据库中的可用函数，请使用该 <code>\\df</code> 命令。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\df</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">List of functions</span></span>
<span class="line"><span style="color:#A6ACCD;"> Schema |           Name           |  Result data type  |                   Argument data types                   | Type</span></span>
<span class="line"><span style="color:#A6ACCD;">--------+--------------------------+--------------------+---------------------------------------------------------+------</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | akeys                    | text[]             | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | avals                    | text[]             | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | defined                  | boolean            | hstore, text                                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | delete                   | hstore             | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | delete                   | hstore             | hstore, text                                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | delete                   | hstore             | hstore, text[]                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | each                     | SETOF record       | hs hstore, OUT key text, OUT value text                 | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | exist                    | boolean            | hstore, text                                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | exists_all               | boolean            | hstore, text[]                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | exists_any               | boolean            | hstore, text[]                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | fetchval                 | text               | hstore, text                                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_compress         | internal           | internal                                                | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_consistent       | boolean            | internal, hstore, smallint, oid, internal               | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_decompress       | internal           | internal                                                | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_in               | ghstore            | cstring                                                 | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_options          | void               | internal                                                | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_out              | cstring            | ghstore                                                 | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_penalty          | internal           | internal, internal, internal                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_picksplit        | internal           | internal, internal                                      | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_same             | internal           | ghstore, ghstore, internal                              | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | ghstore_union            | ghstore            | internal, internal                                      | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | gin_consistent_hstore    | boolean            | internal, smallint, hstore, integer, internal, internal | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | gin_extract_hstore       | internal           | hstore, internal                                        | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | gin_extract_hstore_query | internal           | hstore, internal, smallint, internal, internal          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hs_concat                | hstore             | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hs_contained             | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hs_contains              | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore                   | hstore             | record                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore                   | hstore             | text, text                                              | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore                   | hstore             | text[]                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore                   | hstore             | text[], text[]                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_cmp               | integer            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_eq                | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_ge                | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_gt                | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_hash              | integer            | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_hash_extended     | bigint             | hstore, bigint                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_in                | hstore             | cstring                                                 | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_le                | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_lt                | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_ne                | boolean            | hstore, hstore                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_out               | cstring            | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_recv              | hstore             | internal                                                | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_send              | bytea              | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_subscript_handler | internal           | internal                                                | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_to_array          | text[]             | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_to_json           | json               | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_to_json_loose     | json               | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_to_jsonb          | jsonb              | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_to_jsonb_loose    | jsonb              | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_to_matrix         | text[]             | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | hstore_version_diag      | integer            | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | isdefined                | boolean            | hstore, text                                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | isexists                 | boolean            | hstore, text                                            | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | my_time_multirange       | my_time_multirange |                                                         | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | my_time_multirange       | my_time_multirange | VARIADIC my_time_range[]                                | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | my_time_multirange       | my_time_multirange | my_time_range                                           | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | my_time_range            | my_time_range      | time without time zone, time without time zone          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | my_time_range            | my_time_range      | time without time zone, time without time zone, text    | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | populate_record          | anyelement         | anyelement, hstore                                      | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | skeys                    | SETOF text         | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | slice                    | hstore             | hstore, text[]                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | slice_array              | text[]             | hstore, text[]                                          | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | svals                    | SETOF text         | hstore                                                  | func</span></span>
<span class="line"><span style="color:#A6ACCD;"> public | tconvert                 | hstore             | text, text                                              | func</span></span>
<span class="line"><span style="color:#A6ACCD;">(65 rows)</span></span></code></pre></div><h3 id="列出可用视图" tabindex="-1">列出可用视图 <a class="header-anchor" href="#列出可用视图" aria-label="Permalink to &quot;列出可用视图&quot;">​</a></h3><p>要列出当前数据库中的可用视图，请使用该 <code>\\dv</code> 命令。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\dv</span></span></code></pre></div><h3 id="列出用户及其角色" tabindex="-1">列出用户及其角色 <a class="header-anchor" href="#列出用户及其角色" aria-label="Permalink to &quot;列出用户及其角色&quot;">​</a></h3><p>要列出所有用户及其分配的角色，请使用 <code>\\du</code> 命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\du</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">List of roles</span></span>
<span class="line"><span style="color:#A6ACCD;"> Role name |                         Attributes                         | Member of</span></span>
<span class="line"><span style="color:#A6ACCD;">-----------+------------------------------------------------------------+-----------</span></span>
<span class="line"><span style="color:#A6ACCD;"> postgres  | Superuser, Create role, Create DB, Replication, Bypass RLS | {}</span></span></code></pre></div><h3 id="开启查询执行时间" tabindex="-1">开启查询执行时间 <a class="header-anchor" href="#开启查询执行时间" aria-label="Permalink to &quot;开启查询执行时间&quot;">​</a></h3><p>要打开查询执行时间，请使用该 <code>\\timing</code> 命令。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\timing</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> product;</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">id | product_name |                          attributes</span></span>
<span class="line"><span style="color:#A6ACCD;">----+--------------+--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">  2 | Shirt B      | &quot;Color&quot;=&gt;&quot;White&quot;, &quot;Style&quot;=&gt;&quot;Business&quot;, &quot;Season&quot;=&gt;&quot;Spring&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  1 | Computer A   | &quot;CPU&quot;=&gt;&quot;2.5&quot;, &quot;Disk&quot;=&gt;&quot;1T&quot;, &quot;Brand&quot;=&gt;&quot;Dell&quot;, &quot;Memory&quot;=&gt;&quot;16G&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">(2 rows)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">Time: 0.281 ms</span></span></code></pre></div><p>当您再次运行 <code>\\timing</code> 命令，则会关闭查询执行时间。</p><h3 id="查看命令历史" tabindex="-1">查看命令历史 <a class="header-anchor" href="#查看命令历史" aria-label="Permalink to &quot;查看命令历史&quot;">​</a></h3><p>要显示命令历史记录，请使用该 <code>\\s</code> 命令。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\s</span></span></code></pre></div><p>如果要将命令历史保存到文件中，则需要在 <code>\\s</code> 命令后指定文件名 ，如下所示：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\s </span><span style="color:#F78C6C;">filename</span></span></code></pre></div><h3 id="执行上一条命令" tabindex="-1">执行上一条命令 <a class="header-anchor" href="#执行上一条命令" aria-label="Permalink to &quot;执行上一条命令&quot;">​</a></h3><p>要想执行最近的一条命令， 请使用 <code>\\g</code> 命令:</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\g</span></span></code></pre></div><p><code>\\g</code> 可让你避免重新输入上一条命令。</p><h3 id="获取-sql-命令的帮助" tabindex="-1">获取 SQL 命令的帮助 <a class="header-anchor" href="#获取-sql-命令的帮助" aria-label="Permalink to &quot;获取 SQL 命令的帮助&quot;">​</a></h3><p>要获取 SQL 命令的说明，请使用 <code>\\h</code> 命令，如下：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\h sql_command</span></span></code></pre></div><p>比如，要获取 <code>TRUNCATE</code> 的帮助说明，请使用如下的命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\h </span><span style="color:#F78C6C;">TRUNCATE</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Command:     TRUNCATE</span></span>
<span class="line"><span style="color:#A6ACCD;">Description: empty a table or set of tables</span></span>
<span class="line"><span style="color:#A6ACCD;">Syntax:</span></span>
<span class="line"><span style="color:#A6ACCD;">TRUNCATE [ TABLE ] [ ONLY ] name [ * ] [, ... ]</span></span>
<span class="line"><span style="color:#A6ACCD;">    [ RESTART IDENTITY | CONTINUE IDENTITY ] [ CASCADE | RESTRICT ]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">URL: https://www.postgresql.org/docs/14/sql-truncate.html</span></span></code></pre></div><h3 id="获取-psql-的帮助" tabindex="-1">获取 psql 的帮助 <a class="header-anchor" href="#获取-psql-的帮助" aria-label="Permalink to &quot;获取 psql 的帮助&quot;">​</a></h3><p>要了解 psql 命令的详细用法，请使用 <code>\\?</code> 命令</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\?</span></span></code></pre></div><h3 id="从文件中执行-psql-命令" tabindex="-1">从文件中执行 psql 命令 <a class="header-anchor" href="#从文件中执行-psql-命令" aria-label="Permalink to &quot;从文件中执行 psql 命令&quot;">​</a></h3><p>如果要从文件执行 psql 命令，请 <code>\\i</code> 按如下方式使用命令：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\i </span><span style="color:#F78C6C;">filename</span></span></code></pre></div><h3 id="打开扩展显示" tabindex="-1">打开扩展显示 <a class="header-anchor" href="#打开扩展显示" aria-label="Permalink to &quot;打开扩展显示&quot;">​</a></h3><p>要为 <a href="/database/postgreSQL/base/select.html"><code>SELECT</code> 语句</a>的结果集打开扩展显示，请使用 <code>\\x</code> 命令。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\x</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> product;</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">-[ RECORD 1 ]+-------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">id           | 2</span></span>
<span class="line"><span style="color:#A6ACCD;">product_name | Shirt B</span></span>
<span class="line"><span style="color:#A6ACCD;">attributes   | &quot;Color&quot;=&gt;&quot;White&quot;, &quot;Style&quot;=&gt;&quot;Business&quot;, &quot;Season&quot;=&gt;&quot;Spring&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">-[ RECORD 2 ]+-------------------------------------------------------------</span></span>
<span class="line"><span style="color:#A6ACCD;">id           | 1</span></span>
<span class="line"><span style="color:#A6ACCD;">product_name | Computer A</span></span>
<span class="line"><span style="color:#A6ACCD;">attributes   | &quot;CPU&quot;=&gt;&quot;2.5&quot;, &quot;Disk&quot;=&gt;&quot;1T&quot;, &quot;Brand&quot;=&gt;&quot;Dell&quot;, &quot;Memory&quot;=&gt;&quot;16G&quot;</span></span></code></pre></div><p>扩展显示对于显示那些很长的列很有帮助。</p><p>如果您再次运行 <code>\\x</code> 命令。则回关闭扩展显示。</p><h3 id="退出-psql" tabindex="-1">退出 psql <a class="header-anchor" href="#退出-psql" aria-label="Permalink to &quot;退出 psql&quot;">​</a></h3><p>要退出 psql，您可以使用 <code>\\q</code> 命令并按下 <code>enter</code> 退出 psql。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\q</span></span></code></pre></div><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>本文向您展示了 psql 工具的常用的命令。</p>`,87),p=[t];function o(c,i,r,C,u,d){return a(),n("div",null,p)}const y=s(l,[["render",o]]);export{A as __pageData,y as default};
