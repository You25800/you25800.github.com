import{_ as a,o as s,c as n,R as e}from"./chunks/framework.333b51ca.js";const u=JSON.parse('{"title":"Sakila 数据库中的存储函数","description":"","frontmatter":{},"headers":[],"relativePath":"database/sakila/存储函数.md","filePath":"database/sakila/存储函数.md","lastUpdated":1688717707000}'),l={name:"database/sakila/存储函数.md"},o=e(`<h1 id="sakila-数据库中的存储函数" tabindex="-1">Sakila 数据库中的存储函数 <a class="header-anchor" href="#sakila-数据库中的存储函数" aria-label="Permalink to &quot;Sakila 数据库中的存储函数&quot;">​</a></h1><p>本文整理了 Sakila 数据库中定义的 3 个存储函数及每个函数的用法。</p><p>Sakila 数据库中共定义了 3 个存储函数。</p><h2 id="get-customer-balance" tabindex="-1">get_customer_balance <a class="header-anchor" href="#get-customer-balance" aria-label="Permalink to &quot;get_customer_balance&quot;">​</a></h2><p><code>get_customer_balance</code> 函数返回指定客户帐户的当前的余额。</p><h3 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h3><ul><li><p><code>p_customer_id</code></p><p>要检查的客户的 ID，来自 <code>customer</code> 表的 <code>customer_id</code>。</p></li><li><p><code>p_effective_date</code></p><p>客户余额的截止日期。此日期之后的任何租金、付款等均不计算在内。</p></li></ul><h3 id="返回值" tabindex="-1">返回值 <a class="header-anchor" href="#返回值" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><p>此函数返回客户帐户的当前余额。</p><h3 id="示例用法" tabindex="-1">示例用法 <a class="header-anchor" href="#示例用法" aria-label="Permalink to &quot;示例用法&quot;">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> get_customer_balance(</span><span style="color:#F78C6C;">298</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">NOW</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">+---------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| get_customer_balance(298,NOW()) |</span></span>
<span class="line"><span style="color:#A6ACCD;">+---------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|                           22.00 |</span></span>
<span class="line"><span style="color:#A6ACCD;">+---------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">1 row in set (0.00 sec)</span></span></code></pre></div><h2 id="inventory-held-by-customer" tabindex="-1">inventory_held_by_customer <a class="header-anchor" href="#inventory-held-by-customer" aria-label="Permalink to &quot;inventory_held_by_customer&quot;">​</a></h2><p><code>inventory_held_by_customer</code> 函数返回正在租用指定库存项目的客户的 <code>customer_id</code> 。</p><h3 id="参数-1" tabindex="-1">参数 <a class="header-anchor" href="#参数-1" aria-label="Permalink to &quot;参数&quot;">​</a></h3><ul><li><p><code>p_inventory_id</code></p><p>要检查的库存项目的 ID。</p></li></ul><h3 id="返回值-1" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-1" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><p>此函数返回当前正在租用该项目的客户的 <code>customer_id</code>。如果该项目未出租，返回 <code>NULL</code>。</p><h3 id="示例用法-1" tabindex="-1">示例用法 <a class="header-anchor" href="#示例用法-1" aria-label="Permalink to &quot;示例用法&quot;">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> inventory_held_by_customer(</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">+-------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| inventory_held_by_customer(8) |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|                          NULL |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">1 row in set (0.00 sec)</span></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> inventory_held_by_customer(</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">+-------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| inventory_held_by_customer(9) |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|                           366 |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-------------------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">1 row in set (0.00 sec)</span></span></code></pre></div><h2 id="inventory-in-stock" tabindex="-1">inventory_in_stock <a class="header-anchor" href="#inventory-in-stock" aria-label="Permalink to &quot;inventory_in_stock&quot;">​</a></h2><p><code>inventory_in_stock</code> 函数返回一个布尔值，指示指定的库存项目是否有库存。</p><h3 id="参数-2" tabindex="-1">参数 <a class="header-anchor" href="#参数-2" aria-label="Permalink to &quot;参数&quot;">​</a></h3><ul><li><p><code>p_inventory_id</code></p><p>要检查的库存项目的 ID。</p></li></ul><h3 id="返回值-2" tabindex="-1">返回值 <a class="header-anchor" href="#返回值-2" aria-label="Permalink to &quot;返回值&quot;">​</a></h3><p>此函数返回 <code>TRUE</code> 或 <code>FALSE</code> 以指示指定的项目是否有库存。</p><h3 id="示例用法-2" tabindex="-1">示例用法 <a class="header-anchor" href="#示例用法-2" aria-label="Permalink to &quot;示例用法&quot;">​</a></h3><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> inventory_in_stock(</span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">+-----------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| inventory_in_stock(9) |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-----------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|                     0 |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-----------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">1 row in set (0.00 sec)</span></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> inventory_in_stock(</span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">);</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">+-----------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">| inventory_in_stock(8) |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-----------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">|                     1 |</span></span>
<span class="line"><span style="color:#A6ACCD;">+-----------------------+</span></span>
<span class="line"><span style="color:#A6ACCD;">1 row in set (0.00 sec)</span></span></code></pre></div>`,34),t=[o];function p(c,i,r,d,C,h){return s(),n("div",null,t)}const _=a(l,[["render",p]]);export{u as __pageData,_ as default};
