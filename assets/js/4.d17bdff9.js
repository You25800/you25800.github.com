(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{300:function(s,a,t){s.exports=t.p+"assets/img/image-20220927172231921.42b76ab8.png"},301:function(s,a,t){s.exports=t.p+"assets/img/image-20220927172308814.5adb9fe4.png"},302:function(s,a,t){s.exports=t.p+"assets/img/image-20220927172516835.74e222d0.png"},303:function(s,a,t){s.exports=t.p+"assets/img/image-20220927173724710.f024df95.png"},304:function(s,a,t){s.exports=t.p+"assets/img/image-20220927212332244.2d5f6662.png"},305:function(s,a,t){s.exports=t.p+"assets/img/image-20220927212513903.85241a9b.png"},324:function(s,a,t){"use strict";t.r(a);var n=t(13),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"kibana-安装-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kibana-安装-使用"}},[s._v("#")]),s._v(" Kibana 安装&使用")]),s._v(" "),a("p",[s._v("本章是根据尚硅谷教学视频编写 [https://www.bilibili.com/video/BV1hh411D7sb/?spm_id_from=333.337.search-card.all.click&vd_source=c2c3977953334eb68fd28f89418ceaa6](")]),s._v(" "),a("p",[s._v("Elasticsearch 的开源分析可视化工具，与存储在 Elasticsearch 中的数据进行交互")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:t(300),alt:"image-20220927172231921"}}),s._v(" "),a("h2",{attrs:{id:"下载软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载软件"}},[s._v("#")]),s._v(" 下载软件")]),s._v(" "),a("p",[s._v("Elasticsearch 下载的版本是 8.1.0，这里我们选择同样的 8.1.0 版本")]),s._v(" "),a("p",[s._v("下载地址：https://www.elastic.co/cn/downloads/past-releases#kibana")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:t(301),alt:"image-20220927172308814"}}),s._v(" "),a("h2",{attrs:{id:"安装软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装软件"}},[s._v("#")]),s._v(" 安装软件")]),s._v(" "),a("p",[s._v("本课程着重讲解新版 ES 软件的特性及应用，所以对应的 Kibana 也采用 linux 集群配置。")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("将压缩包 kibana-8.1.0-linux-x86_64.tar.gz 上传到虚拟机中")]),s._v(" "),a("p",[s._v("解压缩文件到自定义路径，笔者解压路径为：/opt/module，解压后，软件路径为：/opt/module/kibana-8.1.0")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" software\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压缩")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" kibana-8.1.0-linux-x86_64.tar.gz "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-C")]),s._v(" /opt/module\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("解压后的 kibana 的目录结构如下：")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:t(302),alt:"image-20220927172516835"}})]),s._v(" "),a("li",[a("p",[s._v("给 Kibana 生成证书文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 ES 服务器中生成证书，输入回车即可")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/module/elasticsearch-8.1.0\nbin/elasticsearch-certutil csr "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" kibana "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-dns")]),s._v(" linux1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" csr-bundle.zip\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将解压后的文件移动到 kibana 的 config 目录中")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" kibana.csr kibana.key /opt/module/kibana-8.1.0/config/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成 crt 文件")]),s._v("\nopenssl x509 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-req")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-in")]),s._v(" kibana.csr "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-signkey")]),s._v(" kibana.key "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-out")]),s._v(" kibana.crt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改配置文件：kibana.yml")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务端口")]),s._v("\nserver.port: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5601")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务主机名")]),s._v("\nserver.host: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linux1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 国际化 - 中文")]),s._v("\ni18n.locale: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zh-CN"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ES 服务主机地址")]),s._v("\nelasticsearch.hosts: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://linux1:9200"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 访问 ES 服务的账号密码")]),s._v("\nelasticsearch.username: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kibana"')]),s._v("\nelasticsearch.password: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fnqIYLQGv81iyW5nWeZ-"')]),s._v("\nelasticsearch.ssl.verificationMode: none\nelasticsearch.ssl.certificateAuthorities:\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/opt/module/elasticsearch-8.1.0/config/certs/elasticsearch-ca.pem"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nserver.ssl.enabled: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\nserver.ssl.certificate: /opt/module/kibana-8.1.0/config/kibana.crt\nserver.ssl.key: /opt/module/kibana-8.1.0/config/kibana.key\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("修改软件目录拥有者")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" es:es /opt/module/kibana-8.1.0/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("切换用户，启动软件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" es\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动软件")]),s._v("\nbin/kibana\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 也可以后台启动")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" /opt/module/kibana-8.1.0/bin/kibana "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("kibana.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("img",{staticStyle:{zoom:"50%"},attrs:{src:t(303),alt:"image-20220927173724710"}})]),s._v(" "),a("li",[a("p",[s._v("打开浏览器，输入访问地址："),a("u",[s._v("https://linux1:5601")])])])]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:t(304),alt:"image-20220927212332244"}}),s._v(" "),a("p",[s._v("输入 elastic 账号和密码即可访问")]),s._v(" "),a("img",{staticStyle:{zoom:"50%"},attrs:{src:t(305),alt:"image-20220927212513903"}})])}),[],!1,null,null,null);a.default=e.exports}}]);