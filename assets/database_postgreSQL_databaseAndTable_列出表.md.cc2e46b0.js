import{_ as s,o as a,c as e,R as l}from"./chunks/framework.333b51ca.js";const b=JSON.parse('{"title":"在 PostgreSQL 中列出数据库中的表","description":"","frontmatter":{},"headers":[],"relativePath":"database/postgreSQL/databaseAndTable/列出表.md","filePath":"database/postgreSQL/databaseAndTable/列出表.md","lastUpdated":1689061386000}'),n={name:"database/postgreSQL/databaseAndTable/列出表.md"},p=l(`<h1 id="在-postgresql-中列出数据库中的表" tabindex="-1">在 PostgreSQL 中列出数据库中的表 <a class="header-anchor" href="#在-postgresql-中列出数据库中的表" aria-label="Permalink to &quot;在 PostgreSQL 中列出数据库中的表&quot;">​</a></h1><p>本文介绍了在 PostgreSQL 列出数据库中的表的两种方法。</p><p>PostgreSQL 提供了两种方法列出一个数据库中的所有表：</p><ul><li>在 <code>psql</code> 工具中使用 <code>\\dt</code> 或者 <code>\\dt+</code> 列出当前当前数据库中的所有的表。</li><li>从 <code>pg_tables</code> 表中查询所有的表。</li></ul><h2 id="使用-dt-列出数据库中的表" tabindex="-1">使用 <code>\\dt</code> 列出数据库中的表 <a class="header-anchor" href="#使用-dt-列出数据库中的表" aria-label="Permalink to &quot;使用 \`\\dt\` 列出数据库中的表&quot;">​</a></h2><p>本实例演示了使用 <code>psql</code> 工具登录数据库并列出数据库中表的过程。请按照如下步骤进行：</p><ol><li><p>使用 postgres 用户登录 PostgreSQL 服务器：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">~</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> psql -U postgres</span></span>
<span class="line"><span style="color:#FFCB6B;">psql</span><span style="color:#A6ACCD;"> (14.4)</span></span>
<span class="line"><span style="color:#FFCB6B;">Type</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">help.</span></span></code></pre></div><p>注意：您也可以使用其他任何具有相应的数据库权限的用户登录。</p></li><li><p>使用以下语句选择 <code>testdb</code> 数据库：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\c testdb;</span></span></code></pre></div><p>如果还未创建数据库，请先运行如下语句：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">DATABASE</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">testdb</span><span style="color:#A6ACCD;">;</span></span></code></pre></div></li><li><p>使用 <code>\\dt</code> 命令列出 <code>testdb</code> 数据库中的所有的表，如下：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\dt</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">List of relations</span></span>
<span class="line"><span style="color:#A6ACCD;">Schema |      Name      | Type  |  Owner</span></span>
<span class="line"><span style="color:#A6ACCD;">--------+----------------+-------+----------</span></span>
<span class="line"><span style="color:#A6ACCD;">public | mytable        | table | postgres</span></span>
<span class="line"><span style="color:#A6ACCD;">public | product        | table | postgres</span></span>
<span class="line"><span style="color:#A6ACCD;">public | test_date      | table | postgres</span></span>
<span class="line"><span style="color:#A6ACCD;">public | test_time      | table | postgres</span></span>
<span class="line"><span style="color:#A6ACCD;">public | test_timestamp | table | postgres</span></span>
<span class="line"><span style="color:#A6ACCD;">public | week_day_sales | table | postgres</span></span>
<span class="line"><span style="color:#A6ACCD;">(6 rows)</span></span></code></pre></div></li><li><p>如果要查看更多关于表的信息，请使用 <code>\\dt+</code> 命令，如下：</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">\\dt</span><span style="color:#89DDFF;">+</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">List of relations</span></span>
<span class="line"><span style="color:#A6ACCD;">Schema |      Name      | Type  |  Owner   | Persistence | Access method |    Size    | Description</span></span>
<span class="line"><span style="color:#A6ACCD;">--------+----------------+-------+----------+-------------+---------------+------------+-------------</span></span>
<span class="line"><span style="color:#A6ACCD;">public | mytable        | table | postgres | permanent   | heap          | 16 kB      |</span></span>
<span class="line"><span style="color:#A6ACCD;">public | product        | table | postgres | permanent   | heap          | 16 kB      |</span></span>
<span class="line"><span style="color:#A6ACCD;">public | test_date      | table | postgres | permanent   | heap          | 8192 bytes |</span></span>
<span class="line"><span style="color:#A6ACCD;">public | test_time      | table | postgres | permanent   | heap          | 8192 bytes |</span></span>
<span class="line"><span style="color:#A6ACCD;">public | test_timestamp | table | postgres | permanent   | heap          | 8192 bytes |</span></span>
<span class="line"><span style="color:#A6ACCD;">public | week_day_sales | table | postgres | permanent   | heap          | 8192 bytes |</span></span>
<span class="line"><span style="color:#A6ACCD;">(6 rows)</span></span></code></pre></div></li></ol><p>您可以看到， <code>\\dt+</code> 的输入比 <code>\\dt</code> 输出多了 <code>Persistence</code>, <code>Access method</code>, <code>Size</code> 和 <code>Description</code> 列。</p><h2 id="从-pg-tables-表中查询表" tabindex="-1">从 <code>pg_tables</code> 表中查询表 <a class="header-anchor" href="#从-pg-tables-表中查询表" aria-label="Permalink to &quot;从 \`pg_tables\` 表中查询表&quot;">​</a></h2><p>除了上面的 <code>\\dt</code> 和 <code>\\dt+</code> 命令，您还可以从 <code>pg_tables</code> 表中查询当前数据中的所有的表。</p><p><code>pg_tables</code> 表是 PostgreSQL 内置的一个表，它存储了数据库中的所有的表。</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> pg_tables</span></span>
<span class="line"><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> schemaname </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">public</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span></code></pre></div><div class="language-txt"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">schemaname |   tablename    | tableowner | tablespace | hasindexes | hasrules | hastriggers | rowsecurity</span></span>
<span class="line"><span style="color:#A6ACCD;">------------+----------------+------------+------------+------------+----------+-------------+-------------</span></span>
<span class="line"><span style="color:#A6ACCD;"> public     | test_date      | postgres   |            | t          | f        | f           | f</span></span>
<span class="line"><span style="color:#A6ACCD;"> public     | test_time      | postgres   |            | t          | f        | f           | f</span></span>
<span class="line"><span style="color:#A6ACCD;"> public     | test_timestamp | postgres   |            | t          | f        | f           | f</span></span>
<span class="line"><span style="color:#A6ACCD;"> public     | week_day_sales | postgres   |            | t          | f        | f           | f</span></span>
<span class="line"><span style="color:#A6ACCD;"> public     | mytable        | postgres   |            | f          | f        | f           | f</span></span>
<span class="line"><span style="color:#A6ACCD;"> public     | product        | postgres   |            | t          | f        | f           | f</span></span>
<span class="line"><span style="color:#A6ACCD;">(6 rows)</span></span></code></pre></div><h2 id="结论" tabindex="-1">结论 <a class="header-anchor" href="#结论" aria-label="Permalink to &quot;结论&quot;">​</a></h2><p>PostgreSQL 提供了两种方法列出一个数据库中的所有表：</p><ul><li>在 <code>psql</code> 工具中使用 <code>\\dt</code> 或者 <code>\\dt+</code> 列出当前数据库中的所有的表。</li><li>从 <code>pg_tables</code> 表中查询所有的表。</li></ul>`,16),t=[p];function o(c,r,i,d,C,A){return a(),e("div",null,t)}const g=s(n,[["render",o]]);export{b as __pageData,g as default};
